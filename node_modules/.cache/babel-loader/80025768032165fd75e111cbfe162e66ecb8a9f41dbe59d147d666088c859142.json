{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const RegisterForm=props=>{const navigate=useNavigate();const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[username,setUsername]=useState('');const[email,setEmail]=useState('');const[pass,setPass]=useState('');const[error,setError]=useState('');const handleSubmit=e=>{e.preventDefault();setError(null);let success=true;let errorText='';// Get current date in YYYY-MM-DD format\nconst currentDate=new Date().toISOString().split('T')[0];const payload=JSON.stringify({first_name:firstName,last_name:lastName,username:username,email:email,password:pass,date_created:currentDate// Add the date_created field\n});try{fetch('http://localhost:8000/users/',{method:'POST',body:payload,headers:{'Content-Type':'application/json'}}).then(res=>{console.log(res);if(!res.ok){errorText=\"Error: \"+res.status+' - ';success=false;return res.json();}else{success=true;return res.json();}}).then(data=>{if(!success){for(const err in data.errors){for(const msg in data.errors[err])errorText+=data.errors[err][msg];}console.log(errorText);setError(errorText);}}).catch(error=>{success=false;console.error(error);});if(success){setFirstName('');setLastName('');setUsername('');setEmail('');setPass('');setError('Registered Successfully!');}else{setError(errorText);}}catch(error){console.error(error);setError('Error Registering - Check your information and try again');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"register-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:firstName,onChange:e=>setFirstName(e.target.value),type:\"text\",placeholder:\"First Name\",id:\"firstName\",name:\"firstName\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:lastName,onChange:e=>setLastName(e.target.value),type:\"text\",placeholder:\"Last Name\",id:\"lastName\",name:\"lastName\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"User Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:username,onChange:e=>setUsername(e.target.value),type:\"text\",placeholder:\"User Name\",id:\"username\",name:\"username\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:email,onChange:e=>setEmail(e.target.value),type:\"email\",placeholder:\"email@email.com\",id:\"email\",name:\"email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:pass,onChange:e=>setPass(e.target.value),type:\"password\",placeholder:\"*********\",id:\"password\",name:\"password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-success\",children:/*#__PURE__*/_jsx(\"b\",{children:error})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>navigate('/login'),children:\"Already have an account? Login here.\"})]});};export default RegisterForm;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterForm","props","navigate","firstName","setFirstName","lastName","setLastName","username","setUsername","email","setEmail","pass","setPass","error","setError","handleSubmit","e","preventDefault","success","errorText","currentDate","Date","toISOString","split","payload","JSON","stringify","first_name","last_name","password","date_created","fetch","method","body","headers","then","res","console","log","ok","status","json","data","err","errors","msg","catch","children","className","onSubmit","htmlFor","required","value","onChange","target","type","placeholder","id","name","onClick"],"sources":["/Users/sergio/Documents/Classes/CS-415/cs415_project/website/src/Components/RegisterForm.jsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useNavigate } from \"react-router-dom\"\n\nexport const RegisterForm = (props) => {\n    const navigate = useNavigate();\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [username, setUsername] = useState('');\n    const [email, setEmail] = useState('');\n    const [pass, setPass] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setError(null)\n        let success = true\n        let errorText = ''\n\n        // Get current date in YYYY-MM-DD format\n        const currentDate = new Date().toISOString().split('T')[0];\n        const payload = JSON.stringify({\n            first_name: firstName,\n            last_name: lastName,\n            username: username,\n            email: email,\n            password: pass,\n            date_created: currentDate // Add the date_created field\n        })\n        try {\n            fetch('http://localhost:8000/users/',{\n            method: 'POST',\n            body: payload,\n            headers:{\n                'Content-Type': 'application/json'\n                }\n            }).then(res => {\n                    console.log(res)\n                    if (!res.ok){\n                        errorText = \"Error: \" + res.status + ' - '\n                        success = false\n                        return res.json()\n                    }\n                    else {\n                        success = true\n                        return res.json()\n                    }\n                 }\n              ).then(data => {\n                if (!success) {\n                    for (const err in data.errors){\n                    for (const msg in data.errors[err]) errorText += data.errors[err][msg]\n                    }\n                    console.log(errorText)\n                    setError(errorText)\n                }\n\n            })\n            .catch(error => {\n                success = false\n                console.error(error)\n            });\n            if (success) {\n                setFirstName('')\n                setLastName('')\n                setUsername('')\n                setEmail('')\n                setPass('')\n                setError('Registered Successfully!')\n            }\n            else{\n                setError(errorText)\n            }\n        } catch (error) {\n            console.error(error);\n            setError('Error Registering - Check your information and try again')\n        }\n\n    }\n\n    return (\n        <div >\n            <h2>Register</h2>\n            <form className=\"register-form\" onSubmit={handleSubmit}>\n                <label htmlFor=\"firstName\">First Name</label>\n                <input required value={firstName} onChange={(e) => setFirstName(e.target.value)} type=\"text\" placeholder=\"First Name\" id=\"firstName\" name=\"firstName\"/>\n                \n                <label htmlFor=\"lastName\">Last Name</label>\n                <input required value={lastName} onChange={(e) => setLastName(e.target.value)} type=\"text\" placeholder=\"Last Name\" id=\"lastName\" name=\"lastName\"/>\n\n                <label htmlFor=\"username\">User Name</label>\n                <input required value={username} onChange={(e) => setUsername(e.target.value)} type=\"text\" placeholder=\"User Name\" id=\"username\" name=\"username\"/>\n\n                <label htmlFor=\"email\">Email</label>\n                <input required value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"email@email.com\" id=\"email\" name=\"email\"/>\n                \n                <label htmlFor=\"password\">Password</label>\n                <input required value={pass} onChange={(e) => setPass(e.target.value)} type=\"password\" placeholder=\"*********\" id=\"password\" name=\"password\"/>\n                \n                <button type=\"submit\">Register</button>\n                \n                <p className=\"text-success\"><b>{error}</b></p>\n            </form>\n\n            <button className=\"link-btn\" onClick={() => navigate('/login')}>Already have an account? Login here.</button>\n\n        </div>\n    )\n}\n\nexport default RegisterForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}