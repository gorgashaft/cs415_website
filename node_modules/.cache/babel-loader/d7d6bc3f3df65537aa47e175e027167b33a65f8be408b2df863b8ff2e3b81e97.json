{"ast":null,"code":"import React,{useState}from\"react\";//import { useNavigate } from \"react-router-dom\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const AddStudio=props=>{//const navigate = useNavigate();\nconst[studio,setStudio]=useState('');const[error,setError]=useState('');const handleSubmit=e=>{e.preventDefault();setError(null);let success=true;let errorText='';const payload=JSON.stringify({studio:studio});try{fetch('http://localhost:8000/studio/',{method:'POST',body:payload,headers:{'Content-Type':'application/json'}}).then(res=>{console.log(res);if(!res.ok){errorText=\"Error: \"+res.status+' - ';success=false;return res.json();}else{success=true;return res.json();}}).then(data=>{if(!success){for(const err in data.errors){for(const msg in data.errors[err])errorText+=data.errors[err][msg];}console.log(errorText);setError(errorText);}}).catch(error=>{success=false;console.error(error);});if(success){setStudio('');setError('Studio Entered!');}else{setError(errorText);}}catch(error){console.error(error);setError('Error - Your Crap is Messed Up');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Studio Entry\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"register-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"studio\",children:\"Distributor\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:studio,onChange:e=>setStudio(e.target.value),type:\"text\",placeholder:\"Studio\",id:\"studio\",name:\"studio\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-success\",children:/*#__PURE__*/_jsx(\"b\",{children:error})})]})]});};export default AddStudio;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","AddStudio","props","studio","setStudio","error","setError","handleSubmit","e","preventDefault","success","errorText","payload","JSON","stringify","fetch","method","body","headers","then","res","console","log","ok","status","json","data","err","errors","msg","catch","children","className","onSubmit","htmlFor","required","value","onChange","target","type","placeholder","id","name"],"sources":["/Users/sergio/Documents/Classes/CS-415/cs415_project/website/src/Components/AddStudio.jsx"],"sourcesContent":["import React, {useState} from \"react\";\n//import { useNavigate } from \"react-router-dom\"\n\nexport const AddStudio = (props) => {\n    //const navigate = useNavigate();\n    const [studio, setStudio] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setError(null)\n        let success = true\n        let errorText = ''\n\n        const payload = JSON.stringify({\n            studio: studio,\n        })\n        try {\n            fetch('http://localhost:8000/studio/',{\n            method: 'POST',\n            body: payload,\n            headers:{\n                'Content-Type': 'application/json'\n                }\n            }).then(res => {\n                    console.log(res)\n                    if (!res.ok){\n                        errorText = \"Error: \" + res.status + ' - '\n                        success = false\n                        return res.json()\n                    }\n                    else {\n                        success = true\n                        return res.json()\n                    }\n                 }\n              ).then(data => {\n                if (!success) {\n                    for (const err in data.errors){\n                    for (const msg in data.errors[err]) errorText += data.errors[err][msg]\n                    }\n                    console.log(errorText)\n                    setError(errorText)\n                }\n\n            })\n            .catch(error => {\n                success = false\n                console.error(error)\n            });\n            if (success) {\n                setStudio('')\n                setError('Studio Entered!')\n            }\n            else{\n                setError(errorText)\n            }\n        } catch (error) {\n            console.error(error);\n            setError('Error - Your Crap is Messed Up')\n        }\n\n    }\n\n    return (\n        <div >\n            <h2>New Studio Entry</h2>\n            <form className=\"register-form\" onSubmit={handleSubmit}>\n                <label htmlFor=\"studio\">Distributor</label>\n                <input required value={studio} onChange={(e) => setStudio(e.target.value)} type=\"text\" placeholder=\"Studio\" id=\"studio\" name=\"studio\"/>\n                 \n                <button type=\"submit\">Submit</button>\n                \n                <p className=\"text-success\"><b>{error}</b></p>\n            </form>\n        </div>\n    )\n}\n\nexport default AddStudio;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}