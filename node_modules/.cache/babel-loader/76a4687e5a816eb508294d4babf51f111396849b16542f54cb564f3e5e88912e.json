{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=props=>{const navigate=useNavigate();const[email,setEmail]=useState('');const[pass,setPass]=useState('');const[error,setError]=useState('');const handleSubmit=e=>{e.preventDefault();setError(null);let success=true;let errorText='';const payload=JSON.stringify({email:email,password:pass});// try {\nfetch(process.env.REACT_APP_API_URL_BASE+'/login/',{method:'POST',body:payload,headers:{'Content-Type':'application/json'}}).then(res=>{return res.json();}).then(data=>{console.log(data);if(data.success){window.sessionStorage.setItem(\"auth\",true);window.sessionStorage.setItem(\"user_id\",data.user_id);window.sessionStorage.setItem(\"token\",data.token);navigate('/userprofile');}else{setError(data.error);}});// } catch (error) {\n//     console.error(error);\n//     setError('Error Registering - Check your information and try again')\n// }\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:email,onChange:e=>setEmail(e.target.value),type:\"email\",placeholder:\"email@email.com\",id:\"email\",name:\"email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,value:pass,onChange:e=>setPass(e.target.value),type:\"password\",placeholder:\"*********\",id:\"password\",name:\"password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-success\",children:/*#__PURE__*/_jsx(\"b\",{children:error})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:()=>navigate('/register'),children:\"Don't have an account? Register here.\"})]});};export default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginForm","props","navigate","email","setEmail","pass","setPass","error","setError","handleSubmit","e","preventDefault","success","errorText","payload","JSON","stringify","password","fetch","process","env","REACT_APP_API_URL_BASE","method","body","headers","then","res","json","data","console","log","window","sessionStorage","setItem","user_id","token","children","className","onSubmit","htmlFor","required","value","onChange","target","type","placeholder","id","name","onClick"],"sources":["/Users/sergio/Documents/Classes/CS-415/cs415_website/cs415_website/src/Components/LoginForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\"\n\nconst LoginForm = (props) => {\n    const navigate = useNavigate();\n    const [email, setEmail] = useState('');\n    const [pass, setPass] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setError(null)\n        let success = true\n        let errorText = ''\n        const payload = JSON.stringify({\n            email: email,\n            password: pass\n        })\n        // try {\n            fetch(process.env.REACT_APP_API_URL_BASE + '/login/', {\n                method: 'POST',\n                body: payload,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then(res => {\n                return res.json();\n            }).then(data => {\n                console.log(data);\n                if (data.success) {\n                    window.sessionStorage.setItem(\"auth\", true)\n                    window.sessionStorage.setItem(\"user_id\", data.user_id)\n                    window.sessionStorage.setItem(\"token\", data.token)\n                    navigate('/userprofile')\n                }\n                else {\n                    setError(data.error);\n                }\n            });\n            \n            // } catch (error) {\n            //     console.error(error);\n            //     setError('Error Registering - Check your information and try again')\n            // }\n        }\n    return (\n        <div >\n            <h2>Login</h2>\n            <form className=\"login-form\" onSubmit={handleSubmit}>\n                <label htmlFor=\"email\">Email</label>\n                <input required value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"email@email.com\" id=\"email\" name=\"email\" />\n                <label htmlFor=\"password\">Password</label>\n                <input required value={pass} onChange={(e) => setPass(e.target.value)} type=\"password\" placeholder=\"*********\" id=\"password\" name=\"password\" />\n                <button type=\"submit\">Submit</button>\n                <p className=\"text-success\"><b>{error}</b></p>\n            </form>\n            <button className=\"link-btn\" onClick={() => navigate('/register')}>Don't have an account? Register here.</button>\n        </div>\n    );\n};\n\nexport default LoginForm;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}